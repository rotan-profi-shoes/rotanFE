"use strict";(self.webpackChunkcomplete_frontend_project_somehelp=self.webpackChunkcomplete_frontend_project_somehelp||[]).push([[786],{7786:(X,g,r)=>{r.r(g),r.d(g,{AuthModule:()=>V});var l=r(8583),c=r(9320),i=r(639),o=r(3679),m=r(1817),_=r(2340),u=r(1841);let d=(()=>{class e{constructor(t){this.http=t}authentificate(t){return this.http.post(`${_.N.rotanApiHost}/api/user/login`,t)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(u.eN))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=r(8645),y=r(3013),f=r(3928),v=r(4207);function x(e,n){1&e&&(i.TgZ(0,"div"),i._uU(1," E-Mail ist erforderlich. "),i.qZA())}function M(e,n){1&e&&(i.TgZ(0,"div"),i._uU(1," Ist keine g\xfcltige E-Mail. "),i.qZA())}function T(e,n){if(1&e&&(i.TgZ(0,"div",11),i.YNc(1,x,2,0,"div",12),i.YNc(2,M,2,0,"div",12),i.qZA()),2&e){const t=i.oxw();i.xp6(1),i.Q6J("ngIf",t.email.errors.required),i.xp6(1),i.Q6J("ngIf",t.email.errors.email)}}function C(e,n){1&e&&(i.TgZ(0,"div"),i._uU(1," Passwort wird ben\xf6tigt. "),i.qZA())}function I(e,n){if(1&e&&(i.TgZ(0,"div",11),i.YNc(1,C,2,0,"div",12),i.qZA()),2&e){const t=i.oxw();i.xp6(1),i.Q6J("ngIf",t.password.errors.required)}}let b=(()=>{class e{constructor(t,s,a,p,G){this.formBuilder=t,this.apiAuthService=s,this.store=a,this.router=p,this.messageService=G}ngOnInit(){this.initForm()}tryLogin(){this.checkValidity()?this.apiAuthService.authentificate(this.loginForm.value).subscribe(t=>{this.store.dispatch(new m.u(t.user)),this.store.dispatch(new m.D(t.userToken)),this.messageService.add({severity:"success",summary:"Erfolg",detail:"Ihre Zugangsdaten sind g\xfcltig."}),this.router.navigate(["admin"])},t=>{this.messageService.add({severity:"error",summary:"Error",detail:t.error})}):this.markAsTouched(this.loginForm)}initForm(){this.loginForm=this.formBuilder.group({email:[null,[o.kI.required,o.kI.email]],password:[null,o.kI.required]})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}checkValidity(){return this.loginForm.invalid&&this.markAsTouched(this.loginForm),this.loginForm.valid}markAsTouched(t){Object.keys(t.controls).forEach(s=>{const a=t.get(s);a instanceof o.NI?a.markAsTouched({onlySelf:!0}):a instanceof o.cw&&this.markAsTouched(a)})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(o.qu),i.Y36(d),i.Y36(h.yh),i.Y36(c.F0),i.Y36(y.ez))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-login-component"]],decls:14,vars:3,consts:[[1,"main-container"],[1,"main-container__logo"],["src","../../../../../assets/images/rotan_logo.png",1,"logo"],[1,"main-container__login-form",3,"formGroup"],[1,"title"],[1,"line"],[1,"input-field"],["formControlName","email","type","text","pInputText","","placeholder","Email",1,"p-inputtext-sm"],["class","error",4,"ngIf"],["formControlName","password","type","password","pInputText","","placeholder","Password",1,"p-inputtext-sm"],["pButton","","type","submit","label","ANMELDEN",1,"p-button-sm","p-button-secondary",3,"click"],[1,"error"],[4,"ngIf"]],template:function(t,s){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i._UZ(2,"img",2),i.qZA(),i.TgZ(3,"form",3),i.TgZ(4,"span",4),i._uU(5,"Rotan Profi Shoes GmbH"),i.qZA(),i._UZ(6,"hr",5),i.TgZ(7,"div",6),i._UZ(8,"input",7),i.YNc(9,T,3,2,"div",8),i.qZA(),i.TgZ(10,"div",6),i._UZ(11,"input",9),i.YNc(12,I,2,1,"div",8),i.qZA(),i.TgZ(13,"button",10),i.NdJ("click",function(){return s.tryLogin()}),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(3),i.Q6J("formGroup",s.loginForm),i.xp6(6),i.Q6J("ngIf",s.email.invalid&&(s.email.dirty||s.email.touched)),i.xp6(3),i.Q6J("ngIf",s.password.invalid&&(s.password.dirty||s.password.touched)))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,f.o,l.O5,v.Hq],styles:['.main-container[_ngcontent-%COMP%]{border-radius:10px;height:300px;width:500px;background-color:#fff;display:flex;flex-direction:row}.main-container__logo[_ngcontent-%COMP%]{width:40%;border-right:1px solid #d8d6d6;display:flex;flex-direction:column;justify-content:center;align-items:center}.main-container__login-form[_ngcontent-%COMP%]{margin-top:30px;width:60%;display:flex;flex-direction:column;justify-content:center;align-items:center}.logo[_ngcontent-%COMP%]{width:140px;height:130px}.title[_ngcontent-%COMP%]{font-size:20px;font-weight:bold;font-family:"Bebas Neue",cursive}.line[_ngcontent-%COMP%]{width:70%}.input-field[_ngcontent-%COMP%]{margin-bottom:20px;height:40px}.error[_ngcontent-%COMP%]{margin-top:5px;margin-left:8px;font-size:10px;color:red}']}),e})();const S=[{path:"",pathMatch:"full",redirectTo:"login"},{path:"login",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-login"]],decls:3,vars:0,consts:[[1,"login-container"],[1,"login"]],template:function(t,s){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i._UZ(2,"app-login-component"),i.qZA(),i.qZA())},directives:[b],styles:[".login-container[_ngcontent-%COMP%]{height:100%;width:100%;position:fixed;background-size:cover;background-position:center;filter:blur(0px);background-image:url(background2.00780e2284bc91b80964.jpg)}.login[_ngcontent-%COMP%]{margin-top:200px;display:flex;justify-content:center}"]}),e})()}];let k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[c.Bz.forChild(S)],c.Bz]}),e})();var w=r(9309);let z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[l.ez,w.T]]}),e})(),$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[l.ez]]}),e})();var q=r(7965);let V=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[d],imports:[[l.ez,k,f.j,v.hJ,o.u5,o.UX,$,u.JF,z,q.EV]]}),e})()}}]);